"use strict";(self.webpackChunkcontacts_front=self.webpackChunkcontacts_front||[]).push([[315],{7459:function(t,e,n){n.d(e,{Z:function(){return c}});var a="Button_btn__RBtNK",r=n(3329);var c=function(t){var e=t.text,n=t.onClick,c=t.type,s=void 0===c?"button":c,i=t.className;return(0,r.jsx)("button",{type:s,className:"".concat(a," ").concat(i),onClick:n,children:e})}},7500:function(t,e,n){n.d(e,{Z:function(){return b}});var a=n(4165),r=n(5861),c=n(885),s=n(2791),i=n(9085),o=n(7689),l=n(4966),u="ContactForm_form__dhl+T",d="ContactForm_edit__pQ0uo ContactForm_form__dhl+T",m="ContactForm_label__-cVXI",p="ContactForm_labelEdit__x6dts ContactForm_label__-cVXI",v="ContactForm_input__Bl93P",_="ContactForm_inputEdit__oTXNa ContactForm_input__Bl93P",h="ContactForm_btn__wll+u",f=n(7459),x=n(3329);var b=function(t){var e=t.type,n=t.id,b=t.initialName,j=void 0===b?"":b,C=t.initialNumber,N=void 0===C?"":C,y=t.setEdit,g=(0,s.useState)(j),Z=(0,c.Z)(g,2),w=Z[0],k=Z[1],A=(0,s.useState)(N),F=(0,c.Z)(A,2),E=F[0],I=F[1],z=(0,o.s0)(),B=(0,l.Jx)().data,S=null===B||void 0===B?void 0:B.map((function(t){return t.name})),T=(0,l.Tn)(),X=(0,c.Z)(T,1)[0],K=(0,l.wv)(),L=(0,c.Z)(K,1)[0],M=function(t){var e=t.target.name,n=t.target.value;switch(e){case"name":return void k(n);case"number":return void I(n);default:return}},P=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!S.includes(e)){t.next=3;break}return i.Am.error("".concat(e," is already in contacts!")),t.abrupt("return");case 3:return t.next=5,X({name:e,number:n}).unwrap();case 5:(r=t.sent).id&&(i.Am.success("".concat(e," was added to contacts")),z("/contacts")),r.message&&i.Am.error("Can't add ".concat(e," to contacts, please try again"));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),J=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(e,r){var c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L({id:n,name:e,number:r}).unwrap();case 2:(c=t.sent).id&&(i.Am.success("".concat(e," was successfully updated")),z("/contacts")),c.message&&i.Am.error("Can't update ".concat(e,", please try again"));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),V=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n){var r,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),r=n.target.name.value,c=n.target.number.value,"Add"===e&&P(r,c),"Edit"===e&&J(r,c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,x.jsxs)("form",{className:"Add"===e?u:d,onSubmit:V,children:[(0,x.jsxs)("label",{className:"Add"===e?m:p,children:["Name",(0,x.jsx)("input",{className:"Add"===e?v:_,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",placeholder:" ",required:!0,value:w,onInput:M})]}),(0,x.jsxs)("label",{className:"Add"===e?m:p,children:["Number",(0,x.jsx)("input",{className:"Add"===e?v:_,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:" ",required:!0,value:E,onInput:M})]}),(0,x.jsxs)("span",{children:[(0,x.jsx)("button",{className:h,type:"submit",children:"Save"}),"Edit"===e&&(0,x.jsx)(f.Z,{text:"Cancel",onClick:function(){return y(!1)}})]})]})}},7718:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var a=n(2791),r=n(7689),c=n(5048),s=n(2036),i="Filter_filter__vxThR",o="Filter_label__vEd1E",l="Filter_input__N7T3z",u=n(3329);var d=function(){var t=(0,c.v9)(s.zK),e=(0,c.I0)();return(0,u.jsx)("div",{className:i,children:(0,u.jsxs)("label",{className:o,children:["Find contacts by Name",(0,u.jsx)("input",{className:l,type:"text",placeholder:" ",value:t,onChange:function(t){var n=t.target.value;e((0,s.M6)(n))}})]})})},m=n(2134),p="IconButton_btn__PoeXD";var v=function(t){var e=t.type,n=void 0===e?"button":e,a=t.icon,r=t.onClick;switch(a){case"add":return(0,u.jsx)("button",{type:n,className:p,"aria-label":"add contact",onClick:r,children:(0,u.jsx)(m.OzW,{style:{width:"40",height:"40",color:"green"}})});case"del":return(0,u.jsx)("button",{type:n,className:p,"aria-label":"delete contact",onClick:r,children:(0,u.jsx)(m.LHV,{style:{width:"30",height:"30",color:"red"}})});case"edit":return(0,u.jsx)("button",{type:n,className:p,"aria-label":"edit contact",onClick:r,children:(0,u.jsx)(m.$iz,{style:{width:"30",height:"30",color:"gray"}})});case"ok":return(0,u.jsx)("button",{type:n,className:p,"aria-label":"edit contact",onClick:r,children:(0,u.jsx)(m.mny,{style:{width:"30",height:"30",color:"green"}})});default:return(0,u.jsx)("button",{type:n,"aria-label":"button"})}},_=n(4966),h=n(9385),f=n(885),x=n(9085),b=n(7500),j="ContactItem_item__gxreB",C="ContactItem_name__XjpNK",N="ContactItem_number__mfZ8x",y="ContactItem_btns__vCBZ0";var g=function(t){var e=t.name,n=t.number,r=t.id,c=(0,a.useState)(!1),s=(0,f.Z)(c,2),i=s[0],o=s[1],l=(0,_.MG)(),d=(0,f.Z)(l,2),m=d[0],p=d[1],h=p.isSuccess,g=p.isError;return(0,a.useEffect)((function(){h&&x.Am.info("".concat(e," was removed from contacts")),g&&x.Am.error("Can't remove ".concat(e," from contacts, please try again"))}),[h,g,e]),i?(0,u.jsx)("li",{className:j,children:(0,u.jsx)(b.Z,{type:"Edit",setEdit:o,id:r,initialName:e,initialNumber:n})}):i?void 0:(0,u.jsxs)("li",{className:j,children:[(0,u.jsx)("span",{className:C,children:e}),(0,u.jsx)("span",{className:N,children:n}),(0,u.jsxs)("div",{className:y,children:[(0,u.jsx)(v,{icon:"edit",onClick:function(){return o(!0)}}),(0,u.jsx)(v,{icon:"del",onClick:function(){m(r)}})]})]})},Z=n(7155),w="ContactList_list__csErn";var k=function(){var t,e=(0,c.v9)(h.M7),n=(0,_.Jx)(null,{skip:!e}),r=n.data,i=n.isFetching,o=null===(t=(0,c.v9)(s.zK))||void 0===t?void 0:t.toLowerCase().trim(),l=null===r||void 0===r?void 0:r.filter((function(t){return t.name.toLowerCase().includes(o)}));return i?(0,u.jsx)(Z.Z,{}):(0,u.jsx)(a.Fragment,{children:(0,u.jsx)("ul",{className:w,children:(null===l||void 0===l?void 0:l.length)>0&&l.map((function(t){var e=t.id,n=t.name,a=t.number;return(0,u.jsx)(g,{name:n,number:a,id:e},e)}))})})};var A=function(){var t=(0,r.s0)();return(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)("h2",{children:"Contacts"}),(0,u.jsx)(v,{icon:"add",onClick:function(){return t("/add")}}),(0,u.jsx)(d,{}),(0,u.jsx)(k,{})]})}}}]);
//# sourceMappingURL=Contacts.93b62a09.chunk.js.map