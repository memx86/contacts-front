"use strict";(self.webpackChunkcontacts_front=self.webpackChunkcontacts_front||[]).push([[116],{7459:function(t,n,e){e.d(n,{Z:function(){return c}});var a="Button_btn__RBtNK",r=e(3329);var c=function(t){var n=t.text,e=t.onClick,c=t.type,s=void 0===c?"button":c,o=t.className;return(0,r.jsx)("button",{type:s,className:"".concat(a," ").concat(o),onClick:e,children:n})}},7500:function(t,n,e){e.d(n,{Z:function(){return x}});var a=e(4165),r=e(5861),c=e(885),s=e(2791),o=e(9085),u=e(7689),i=e(4966),d="ContactForm_form__dhl+T",l="ContactForm_edit__pQ0uo ContactForm_form__dhl+T",m="ContactForm_label__-cVXI",p="ContactForm_labelEdit__x6dts ContactForm_label__-cVXI",f="ContactForm_input__Bl93P",_="ContactForm_inputEdit__oTXNa ContactForm_input__Bl93P",v="ContactForm_btn__wll+u",h=e(7459),b=e(3329);var x=function(t){var n=t.type,e=t.id,x=t.initialName,Z=void 0===x?"":x,C=t.initialNumber,y=void 0===C?"":C,A=t.setEdit,w=(0,s.useState)(Z),N=(0,c.Z)(w,2),g=N[0],j=N[1],F=(0,s.useState)(y),k=(0,c.Z)(F,2),B=k[0],E=k[1],S=(0,u.s0)(),z=(0,i.Jx)().data,I=null===z||void 0===z?void 0:z.map((function(t){return t.name})),T=(0,i.Tn)(),P=(0,c.Z)(T,1)[0],X=(0,i.wv)(),q=(0,c.Z)(X,1)[0],J=function(t){var n=t.target.name,e=t.target.value;switch(n){case"name":return void j(e);case"number":return void E(e);default:return}},V=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n,e){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!I.includes(n)){t.next=3;break}return o.Am.error("".concat(n," is already in contacts!")),t.abrupt("return");case 3:return t.next=5,P({name:n,number:e}).unwrap();case 5:(r=t.sent).id&&(o.Am.success("".concat(n," was added to contacts")),S("/contacts")),r.message&&o.Am.error("Can't add ".concat(n," to contacts, please try again"));case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),D=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(n,r){var c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q({id:e,name:n,number:r}).unwrap();case 2:(c=t.sent).id&&(o.Am.success("".concat(n," was successfully updated")),S("/contacts")),c.message&&o.Am.error("Can't update ".concat(n,", please try again"));case 5:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),K=function(){var t=(0,r.Z)((0,a.Z)().mark((function t(e){var r,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),r=e.target.name.value,c=e.target.number.value,"Add"===n&&V(r,c),"Edit"===n&&D(r,c);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,b.jsxs)("form",{className:"Add"===n?d:l,onSubmit:K,children:[(0,b.jsxs)("label",{className:"Add"===n?m:p,children:["Name",(0,b.jsx)("input",{className:"Add"===n?f:_,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",placeholder:" ",required:!0,value:g,onInput:J})]}),(0,b.jsxs)("label",{className:"Add"===n?m:p,children:["Number",(0,b.jsx)("input",{className:"Add"===n?f:_,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:" ",required:!0,value:B,onInput:J})]}),(0,b.jsxs)("span",{children:[(0,b.jsx)("button",{className:v,type:"submit",children:"Save"}),"Edit"===n&&(0,b.jsx)(h.Z,{text:"Cancel",onClick:function(){return A(!1)}})]})]})}},8607:function(t,n,e){e.r(n);var a=e(7500),r=e(3329);n.default=function(){return(0,r.jsx)(a.Z,{type:"Add"})}},1516:function(t,n,e){e.r(n);var a=e(2791),r=e(5025),c=e(3329);n.default=function(){return(0,c.jsx)(a.Fragment,{children:(0,c.jsx)(r.Z,{type:"Signup"})})}}}]);
//# sourceMappingURL=Add.7a2f289d.chunk.js.map